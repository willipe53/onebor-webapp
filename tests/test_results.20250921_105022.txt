🚀 Simple Test Runner
==================================================
📝 Saving output to: test_results.20250921_105022.txt
⏰ Started at: 2025-09-21 10:50:22

📁 Checking directory...
✅ Running from tests directory: /Users/willipe/github/onebor-webapp/tests

📄 Checking .env file...
✅ .env file found and readable (279 chars)

🧪 Checking for test files...
📋 New functionality tests (5):
  • test_invitations.py
  • test_client_group_entities.py
  • test_count_apis.py
  • test_schema_changes.py
  • test_cors_comprehensive.py

📋 Regression tests (6):
  • test_users.py
  • test_client_groups.py
  • test_entities.py
  • test_entity_types.py
  • test_client_group_membership.py
  • test_valid_entities.py
✅ Found: test_invitations.py
✅ Found: test_client_group_entities.py
✅ Found: test_count_apis.py
✅ Found: test_schema_changes.py
✅ Found: test_cors_comprehensive.py
✅ Found: test_users.py
✅ Found: test_client_groups.py
✅ Found: test_entities.py
✅ Found: test_entity_types.py
✅ Found: test_client_group_membership.py
✅ Found: test_valid_entities.py

✅ All 11 test files found

🎯 Running all tests...

[1/11] Running: test_invitations.py
----------------------------------------
Exit code: 1
❌ FAILED
Failure details:
  test_invitations.py::TestInvitations::test_get_invitations_by_client_group FAILED [ 22%]
  test_invitations.py::TestInvitations::test_expire_invitation_via_redeem FAILED [ 44%]
  test_invitations.py::TestInvitations::test_invitation_count_api FAILED   [ 55%]

[2/11] Running: test_client_group_entities.py
----------------------------------------
Exit code: 1
❌ FAILED
Failure details:
  test_client_group_entities.py::TestClientGroupEntities::test_modify_client_group_entities_add_all ERROR [ 10%]
  test_client_group_entities.py::TestClientGroupEntities::test_modify_client_group_entities_partial_update ERROR [ 20%]
  test_client_group_entities.py::TestClientGroupEntities::test_modify_client_group_entities_empty_list ERROR [ 30%]

[3/11] Running: test_count_apis.py
----------------------------------------
Exit code: 1
❌ FAILED
Failure details:
  test_count_apis.py::TestCountAPIs::test_entity_count_api FAILED          [  8%]
  test_count_apis.py::TestCountAPIs::test_entity_count_with_filters FAILED [ 16%]
  test_count_apis.py::TestCountAPIs::test_entity_type_count_api FAILED     [ 41%]

[4/11] Running: test_schema_changes.py
----------------------------------------
Exit code: 1
❌ FAILED
Failure details:
  test_schema_changes.py::TestSchemaChanges::test_invitations_simplified_schema FAILED [ 58%]
  test_schema_changes.py::TestSchemaChanges::test_invitation_expiration_mechanism FAILED [ 66%]
  test_schema_changes.py::TestSchemaChanges::test_entity_operations_with_int_user_id FAILED [ 83%]

[5/11] Running: test_cors_comprehensive.py
----------------------------------------
Exit code: 1
❌ FAILED
Failure details:
  test_cors_comprehensive.py::TestCORSComprehensive::test_options_preflight_all_endpoints FAILED [ 10%]
  test_cors_comprehensive.py::TestCORSComprehensive::test_post_cors_headers_all_endpoints FAILED [ 20%]
  test_cors_comprehensive.py::TestCORSComprehensive::test_cors_credentials_support FAILED [ 40%]

[6/11] Running: test_users.py
----------------------------------------
Exit code: 1
❌ FAILED
Failure details:
  test_users.py::TestUsers::test_user_update_and_revert FAILED             [ 12%]
  test_users.py::TestUsers::test_user_create_and_delete_cycle FAILED       [ 25%]
  test_users.py::TestUsers::test_user_get_with_filters FAILED              [ 37%]

[7/11] Running: test_client_groups.py
----------------------------------------
Exit code: 1
❌ FAILED
Failure details:
  test_client_groups.py::TestClientGroups::test_client_group_create_and_delete_cycle FAILED [ 25%]
  test_client_groups.py::TestClientGroups::test_client_group_get_with_filters FAILED [ 37%]
  test_client_groups.py::TestClientGroups::test_client_group_get_by_user_id FAILED [ 50%]

[8/11] Running: test_entities.py
----------------------------------------
Exit code: 1
❌ FAILED
Failure details:
  test_entities.py::TestEntities::test_entity_update_and_revert FAILED     [ 16%]
  test_entities.py::TestEntities::test_entity_create_and_delete_cycle FAILED [ 33%]
  test_entities.py::TestEntities::test_entity_get_with_filters FAILED      [ 50%]

[9/11] Running: test_entity_types.py
----------------------------------------
⏰ TIMED OUT (2 minutes)

[10/11] Running: test_client_group_membership.py
----------------------------------------
Exit code: 1
❌ FAILED
Failure details:
  test_client_group_membership.py::TestClientGroupMembership::test_add_remove_user_membership_cycle FAILED [ 12%]
  test_client_group_membership.py::TestClientGroupMembership::test_add_user_already_in_group FAILED [ 25%]
  test_client_group_membership.py::TestClientGroupMembership::test_membership_action_variations FAILED [ 50%]

[11/11] Running: test_valid_entities.py
----------------------------------------
Exit code: 0
✅ PASSED

============================================================
📊 TEST SUMMARY REPORT
============================================================
Total tests: 11
✅ Passed: 1
❌ Failed: 9
⏰ Timed out: 1

⚠️  10 tests had issues

Failed tests:
  ❌ test_invitations.py
  ❌ test_client_group_entities.py
  ❌ test_count_apis.py
  ❌ test_schema_changes.py
  ❌ test_cors_comprehensive.py
  ❌ test_users.py
  ❌ test_client_groups.py
  ❌ test_entities.py
  ❌ test_client_group_membership.py

Timed out tests:
  ⏰ test_entity_types.py

⏰ Completed at: 2025-09-21 10:57:18
📝 Full output saved to: test_results.20250921_105022.txt
